{% extends "base.html" %} {% block title %}Cart | Revivo Clothing Rental
Website{% endblock %} {% block content %}
<div class="container px-3 my-5 clearfix">
  <!-- Shopping cart table -->
  <div class="card">
    <div class="card-header">
      <h2 class="text-center">Rental Cart</h2>
    </div>
    <div class="card-body">
      <div class="table-responsive">
        <table class="table table-bordered m-0">
          <thead>
            <tr>
              <th class="text-center py-3 px-4" style="min-width: 400px">
                Product Name &amp; Details
              </th>
              <th class="text-end py-3 px-4" style="width: 100px">Rent</th>
              <th class="text-center py-3 px-4" style="width: 120px">
                Quantity
              </th>
              <th class="text-end py-3 px-4" style="width: 100px">Total</th>
              <th
                class="text-center align-middle py-3 px-0"
                style="width: 40px"
              >
                <a
                  href="{{ url_for('clear_cart') }}"
                  class="shop-tooltip btn btn-outline-danger float-none text-light"
                  title="Clear cart"
                >
                  <i class="bi bi-x-square"></i>
                </a>
              </th>
            </tr>
          </thead>
          <tbody>
            {% for item in session.cart %} {% set dress =
            get_dress_by_id(item.id) %}
            <tr data-id="{{ item.id }}">
              <td class="p-4">
                <div class="d-flex align-items-center">
                  <div class="media-body">
                    <a
                      href="{{ url_for('dress_details', dress_id=item.id) }}"
                      class="d-block text-dark"
                      >{{ item.Dres_type }}</a
                    >
                    <small>{{ dress.dress_info }}</small>
                  </div>
                </div>
              </td>
              <td class="text-end font-weight-semibold align-middle p-4">
                ${{ item.price_of_a_dress }}
              </td>
              <td class="align-middle p-4">
                <input
                  type="number"
                  class="form-control text-center quantity-input"
                  value="{{ item.quantity }}"
                  min="1"
                  data-id="{{ item.id }}"
                />
              </td>
              <td
                class="text-end font-weight-semibold align-middle p-4 item-total"
              >
                ${{ item.price_of_a_dress * item.quantity }}
              </td>
              <td class="text-center align-middle px-0">
                <a
                  href="{{ url_for('remove_from_cart', dress_id=item.id) }}"
                  class="shop-tooltip close float-none text-danger"
                  title="Remove"
                  ><i class="bi bi-x-square"></i
                ></a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      <!-- / Shopping cart table -->

      {% if session.cart %}
      <div
        class="d-flex flex-wrap justify-content-between align-items-center pb-4"
      >
        <div class="mt-4">
          <label class="text-muted font-weight-normal">Promocode</label>
          <input type="text" placeholder="ABC" class="form-control" />
        </div>
        <div class="d-flex">
          <div class="text-end mt-4 me-5">
            <label class="text-muted font-weight-normal m-0">Collateral</label>
            <div class="text-large"><strong>$20</strong></div>
          </div>
          <div class="text-end mt-4">
            <label class="text-muted font-weight-normal m-0">Total price</label>
            <div class="text-large">
              <strong id="total-price">${{ total_price }}</strong>
            </div>
          </div>
        </div>
      </div>
      {% endif %}

      <div class="float-end">
        <button type="button" class="btn btn-lg btn-secondary mt-2 me-3">
          <a
            href="{{ url_for('lender_data') }}"
            class="text-decoration-none text-white small"
            ><i class="bi bi-arrow-left mx-1"></i>Back to Renting</a
          >
        </button>
        <button
          type="button"
          class="btn btn-lg btn-primary mt-2"
          id="checkout-btn"
          {%
          if
          not
          session.cart
          %}disabled{%
          endif
          %}
        >
          <a
            href="{{ url_for('checkout') }}"
            class="text-decoration-none text-white small"
          >
            <i class="bi bi-bag-check mx-1"></i>Checkout</a
          >
        </button>
        <button
          type="button"
          class="btn btn-lg btn-danger mt-2 mx-2"
          id="clear-cart-btn"
        >
          <a
            href="{{ url_for('clear_cart') }}"
            class="text-decoration-none text-white small mx-2"
            ><i class="bi bi-x-square mx-1"></i>Clear</a
          >
        </button>
      </div>
    </div>
  </div>
</div>
{% endblock %}
